(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[377],{8814:(e,t,r)=>{Promise.resolve().then(r.bind(r,9364))},17:e=>{var t;t=function(){return(function e(t,r,n){function i(o,a){if(!r[o]){if(!t[o]){if(s)return s(o,!0);var l=Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var h=r[o]={exports:{}};t[o][0].call(h.exports,function(e){return i(t[o][1][e]||e)},h,h.exports,e,t,r,n)}return r[o].exports}for(var s=void 0,o=0;o<n.length;o++)i(n[o]);return i})({1:[function(e,t,r){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function s(e){return"object"==typeof e&&null!==e}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,r,n,o,a,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;var h=Error('Uncaught, unspecified "error" event. ('+t+")");throw h.context=t,h}if(void 0===(r=this._events[e]))return!1;if(i(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),r.apply(this,o)}else if(s(r))for(a=0,o=Array.prototype.slice.call(arguments,1),n=(l=r.slice()).length;a<n;a++)l[a].apply(this,o);return!0},n.prototype.addListener=function(e,t){var r;if(!i(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?s(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,s(this._events[e])&&!this._events[e].warned&&(r=void 0===this._maxListeners?n.defaultMaxListeners:this._maxListeners)&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){if(!i(t))throw TypeError("listener must be a function");var r=!1;function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var r,n,o,a;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(o=(r=this._events[e]).length,n=-1,r===t||i(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(s(r)){for(a=o;a-- >0;)if(r[a]===t||r[a].listener&&r[a].listener===t){n=a;break}if(n<0)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0==arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0==arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(i(r=this._events[e]))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(i(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},{}],2:[function(e,t,r){var n,i,s,o,a;a=navigator.userAgent.toLowerCase(),o=navigator.platform.toLowerCase(),s="ie"===(n=a.match(/(opera|ie|firefox|chrome|version)[\s\/:]([\w\d\.]+)?.*?(safari|version[\s\/:]([\w\d\.]+)|$)/)||[null,"unknown",0])[1]&&document.documentMode,(i={name:"version"===n[1]?n[3]:n[1],version:s||parseFloat("opera"===n[1]&&n[4]?n[4]:n[2]),platform:{name:a.match(/ip(?:ad|od|hone)/)?"ios":(a.match(/(?:webos|android)/)||o.match(/mac|win|linux/)||["other"])[0]}})[i.name]=!0,i[i.name+parseInt(i.version,10)]=!0,i.platform[i.platform.name]=!0,t.exports=i},{}],3:[function(e,t,r){var n,i,s,o=function(e,t){for(var r in t)a.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},a={}.hasOwnProperty,l=[].indexOf||function(e){for(var t=0,r=this.length;t<r;t++)if(t in this&&this[t]===e)return t;return -1},h=[].slice;n=e("events").EventEmitter,s=e("./browser.coffee"),i=function(e){var t,r;function n(e){var r,n,i;for(n in this.running=!1,this.options={},this.frames=[],this.freeWorkers=[],this.activeWorkers=[],this.setOptions(e),t)i=t[n],null==(r=this.options)[n]&&(r[n]=i)}return o(n,e),t={workerScript:"gif.worker.js",workers:2,repeat:0,background:"#fff",quality:10,width:null,height:null,transparent:null,debug:!1,dither:!1},r={delay:500,copy:!1},n.prototype.setOption=function(e,t){if(this.options[e]=t,null!=this._canvas&&("width"===e||"height"===e))return this._canvas[e]=t},n.prototype.setOptions=function(e){var t,r,n;for(t in r=[],e)a.call(e,t)&&(n=e[t],r.push(this.setOption(t,n)));return r},n.prototype.addFrame=function(e,t){var n,i;for(i in null==t&&(t={}),(n={}).transparent=this.options.transparent,r)n[i]=t[i]||r[i];if(null==this.options.width&&this.setOption("width",e.width),null==this.options.height&&this.setOption("height",e.height),"undefined"!=typeof ImageData&&null!==ImageData&&e instanceof ImageData)n.data=e.data;else if("undefined"!=typeof CanvasRenderingContext2D&&null!==CanvasRenderingContext2D&&e instanceof CanvasRenderingContext2D||"undefined"!=typeof WebGLRenderingContext&&null!==WebGLRenderingContext&&e instanceof WebGLRenderingContext)t.copy?n.data=this.getContextData(e):n.context=e;else if(null!=e.childNodes)t.copy?n.data=this.getImageData(e):n.image=e;else throw Error("Invalid image");return this.frames.push(n)},n.prototype.render=function(){var e,t;if(this.running)throw Error("Already running");if(null==this.options.width||null==this.options.height)throw Error("Width and height must be set prior to rendering");if(this.running=!0,this.nextFrame=0,this.finishedFrames=0,this.imageParts=(function(){var e,t,r;for(r=[],e=0,t=this.frames.length;0<=t?e<t:e>t;0<=t?++e:--e)r.push(null);return r}).call(this),t=this.spawnWorkers(),!0===this.options.globalPalette)this.renderNextFrame();else for(e=0;0<=t?e<t:e>t;0<=t?++e:--e)this.renderNextFrame();return this.emit("start"),this.emit("progress",0)},n.prototype.abort=function(){for(var e;null!=(e=this.activeWorkers.shift());)this.log("killing active worker"),e.terminate();return this.running=!1,this.emit("abort")},n.prototype.spawnWorkers=function(){var e,t,r,n;return e=Math.min(this.options.workers,this.frames.length),(function(){r=[];for(var n=t=this.freeWorkers.length;t<=e?n<e:n>e;t<=e?n++:n--)r.push(n);return r}).apply(this).forEach((n=this,function(e){var t;return n.log("spawning worker "+e),(t=new Worker(n.options.workerScript)).onmessage=function(e){return n.activeWorkers.splice(n.activeWorkers.indexOf(t),1),n.freeWorkers.push(t),n.frameFinished(e.data)},n.freeWorkers.push(t)})),e},n.prototype.frameFinished=function(e){var t,r;if(this.log("frame "+e.index+" finished - "+this.activeWorkers.length+" active"),this.finishedFrames++,this.emit("progress",this.finishedFrames/this.frames.length),this.imageParts[e.index]=e,!0===this.options.globalPalette&&(this.options.globalPalette=e.globalPalette,this.log("global palette analyzed"),this.frames.length>2))for(t=1,r=this.freeWorkers.length;1<=r?t<r:t>r;1<=r?++t:--t)this.renderNextFrame();return l.call(this.imageParts,null)>=0?this.renderNextFrame():this.finishRendering()},n.prototype.finishRendering=function(){var e,t,r,n,i,s,o,a,l,h,d,c,u,p,f,m;for(i=0,a=0,l=(p=this.imageParts).length;i<l;i++)a+=((t=p[i]).data.length-1)*t.pageSize+t.cursor;for(a+=t.pageSize-t.cursor,this.log("rendering finished - filesize "+Math.round(a/1e3)+"kb"),e=new Uint8Array(a),c=0,s=0,h=(f=this.imageParts).length;s<h;s++)for(m=(t=f[s]).data,r=o=0,d=m.length;o<d;r=++o)u=m[r],e.set(u,c),r===t.data.length-1?c+=t.cursor:c+=t.pageSize;return n=new Blob([e],{type:"image/gif"}),this.emit("finished",n,e)},n.prototype.renderNextFrame=function(){var e,t,r;if(0===this.freeWorkers.length)throw Error("No free workers");if(!(this.nextFrame>=this.frames.length))return e=this.frames[this.nextFrame++],r=this.freeWorkers.shift(),t=this.getTask(e),this.log("starting frame "+(t.index+1)+" of "+this.frames.length),this.activeWorkers.push(r),r.postMessage(t)},n.prototype.getContextData=function(e){return e.getImageData(0,0,this.options.width,this.options.height).data},n.prototype.getImageData=function(e){var t;return null==this._canvas&&(this._canvas=document.createElement("canvas"),this._canvas.width=this.options.width,this._canvas.height=this.options.height),(t=this._canvas.getContext("2d")).setFill=this.options.background,t.fillRect(0,0,this.options.width,this.options.height),t.drawImage(e,0,0),this.getContextData(t)},n.prototype.getTask=function(e){var t,r;if(r={index:t=this.frames.indexOf(e),last:t===this.frames.length-1,delay:e.delay,transparent:e.transparent,width:this.options.width,height:this.options.height,quality:this.options.quality,dither:this.options.dither,globalPalette:this.options.globalPalette,repeat:this.options.repeat,canTransfer:"chrome"===s.name},null!=e.data)r.data=e.data;else if(null!=e.context)r.data=this.getContextData(e.context);else if(null!=e.image)r.data=this.getImageData(e.image);else throw Error("Invalid frame");return r},n.prototype.log=function(){var e;if(e=1<=arguments.length?h.call(arguments,0):[],this.options.debug)return console.log.apply(console,e)},n}(n),t.exports=i},{"./browser.coffee":2,events:1}]},{},[3])(3)},e.exports=t()},9364:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var n=r(7437),i=r(2265),s=r(17),o=r.n(s);async function a(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:120,i=arguments.length>4?arguments[4]:void 0,s=document.createElement("canvas"),a=s.getContext("2d");if(!a)throw Error("Could not get canvas context");a.font="bold ".concat(n,"px ").concat(t[0]);let l=a.measureText(e).width;s.width=Math.ceil(l+80),s.height=Math.ceil(1.2*n+80);let h=new(o())({workers:2,quality:10,width:s.width,height:s.height,debug:!0,transparent:"0x000000",workerScript:"/workers/gif.worker.js"}),d=Math.max(100,Math.round(1e3*r));for(let r of t)a.clearRect(0,0,s.width,s.height),a.fillStyle="rgba(0, 0, 0, 0)",a.fillRect(0,0,s.width,s.height),a.font="".concat(n,"px ").concat(r),a.fillStyle=i,a.textAlign="center",a.textBaseline="middle",a.fillText(e,s.width/2,s.height/2),h.addFrame(a,{copy:!0,delay:d});return new Promise((e,t)=>{h.on("finished",t=>{let r=URL.createObjectURL(t),n=document.createElement("a");n.href=r,n.download="font-animation.gif",document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r),e()}),h.render()})}r(756);let l=["HandwritingSix","HandwritingFive","HandwritingOne","HandwritingThree","HandwritingTwo","HandwritingFour"];function h(){let[e,t]=(0,i.useState)("The Kruuk ♥ ♪ ♫"),[r,s]=(0,i.useState)(.2),[o,h]=(0,i.useState)(80),[d,c]=(0,i.useState)("#FFFFFF"),[u,p]=(0,i.useState)(0),[f,m]=(0,i.useState)(!1),g=(0,i.useRef)(null);(0,i.useEffect)(()=>{let e=setInterval(()=>{p(e=>(e+1)%l.length)},1e3*Math.max(.1,r));return()=>clearInterval(e)},[r]);let v=async()=>{if(e.trim()){m(!0);try{await a(e,l,Math.max(.1,r),o,d)}catch(e){console.error("Export failed:",e),alert("Failed to export GIF. Please try again.")}finally{m(!1)}}};return(0,n.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center p-4 md:p-8",children:(0,n.jsxs)("div",{className:"w-full max-w-4xl space-y-8",children:[(0,n.jsxs)("div",{className:"space-y-6 bg-slate-200 bg-opacity-20 p-8 rounded-xl",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("label",{htmlFor:"text-input",className:"text-sm font-medium text-foreground",children:"Your Text"}),(0,n.jsx)("textarea",{id:"text-input","data-testid":"input-text",value:e,onChange:e=>t(e.target.value),placeholder:"Enter your text to animate...",className:"w-full min-h-16 px-4 py-3 bg-background border border-input rounded-lg focus:outline-none focus:ring-2 focus:ring-ring resize-none text-black"})]}),(0,n.jsx)("div",{className:"bg-card border border-card-border rounded-lg p-8 pt-0 md:p-0 md:p-12 min-h-64 flex items-center justify-center",style:{boxShadow:"var(--shadow-xl)"},children:e.trim()?(0,n.jsx)("div",{"data-testid":"text-preview",className:"font-bold text-center break-words overflow-clip max-w-full transition-all duration-300 text-nowrap",style:{fontFamily:l[u],color:d,fontSize:"".concat(o,"px")},children:e}):(0,n.jsx)("p",{className:"text-muted-foreground text-center",children:"Your animated text will appear here"})}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("label",{htmlFor:"speed-slider",className:"text-sm font-medium text-foreground",children:"Animation Speed"}),(0,n.jsxs)("span",{className:"text-sm text-muted-foreground","data-testid":"text-speed",children:[Math.max(.1,r).toFixed(1),"s"]})]}),(0,n.jsx)("input",{id:"speed-slider","data-testid":"input-speed",type:"range",min:"0.1",max:"2",step:"0.1",value:r,onChange:e=>s(parseFloat(e.target.value)),className:"w-full h-2 bg-muted rounded-lg appearance-none cursor-pointer accent-primary"}),(0,n.jsxs)("div",{className:"flex justify-between text-xs text-muted-foreground",children:[(0,n.jsx)("span",{children:"Fast (0.1s)"}),(0,n.jsx)("span",{children:"Slow (2.0s)"})]})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("label",{htmlFor:"fontsize-slider",className:"text-sm font-medium text-foreground",children:"Font Size"}),(0,n.jsxs)("span",{className:"text-sm text-muted-foreground","data-testid":"text-fontsize",children:[o,"px"]})]}),(0,n.jsx)("input",{id:"fontsize-slider","data-testid":"input-fontsize",type:"range",min:"24",max:"300",step:"4",value:o,onChange:e=>h(parseInt(e.target.value)),className:"w-full h-2 bg-muted rounded-lg appearance-none cursor-pointer accent-primary"}),(0,n.jsxs)("div",{className:"flex justify-between text-xs text-muted-foreground",children:[(0,n.jsx)("span",{children:"Small (24px)"}),(0,n.jsx)("span",{children:"Large (300px)"})]})]})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("label",{htmlFor:"color-picker",className:"text-sm font-medium text-foreground",children:"Text Color"}),(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)("input",{id:"color-picker","data-testid":"input-color",type:"color",value:d,onChange:e=>c(e.target.value),className:"h-10 w-20 rounded-lg cursor-pointer border border-input bg-background"}),(0,n.jsx)("input",{type:"text","data-testid":"input-color-text",value:d,onChange:e=>c(e.target.value),placeholder:"#000000",className:"flex-1 h-10 px-4 bg-background border border-input rounded-lg focus:outline-none focus:ring-2 focus:ring-ring text-foreground placeholder:text-muted-foreground font-mono"})]})]}),(0,n.jsx)("button",{"data-testid":"button-export",onClick:v,disabled:!e.trim()||f,className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-primary text-primary-foreground rounded-lg font-medium hover-elevate active-elevate-2 disabled:opacity-50 disabled:cursor-not-allowed transition-opacity border border-primary-border",style:{minHeight:"2.5rem"},children:f?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"grid place-items-center overflow-x-scroll rounded-lg lg:overflow-visible",children:(0,n.jsx)("svg",{className:"text-gray-300 animate-spin",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",children:(0,n.jsx)("path",{d:"M32 3C36.5778 3 41.0906 4.08374 45.1692 6.16256C49.2477 8.24138 52.7762 11.2562 55.466 14.9605C58.1558 18.6647 59.9304 22.9531 60.6448 27.4748C61.3591 31.9965 60.9928 36.6232 59.5759 40.9762",stroke:"currentColor",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round",className:"text-slate-300"})})}),(0,n.jsx)("span",{children:"Generating GIF..."})]}):(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("span",{children:"Export as GIF"})})})]}),(0,n.jsx)("canvas",{ref:g,id:"canvas",className:""})]})})}},756:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[699,130,215,744],()=>t(8814)),_N_E=e.O()}]);